import Head from "next/head";
import { useQuery, gql } from "@apollo/client";
import { REVIEWS } from "@/graphql/queries";


export default function Home() {
  const { data, error, loading } = useQuery(REVIEWS);
  const [userdata, setUserData] = useState({identifier: '', password: ''})


  if (loading) return <p>loading....</p>;
  if (error) return <p>error</p>;

  const handleCHange = (e) => {
    setUserData({...data, [e.target.name]: e.target.value})
  }

  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      {data.reviews.data.map(review => (
          <div key={review.id}>
            <div>{review.attributes.rating}</div>
            <div>{review.attributes.title}</div>
            <p>{review.attributes.body}</p>
          </div>
          
        ))}
    </>
  );
}
